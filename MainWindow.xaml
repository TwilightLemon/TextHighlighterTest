<Window x:Class="TextHighlighterTest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="clr-namespace:TextHighlighterTest"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        Title="MainWindow"
        Width="905"
        Height="503"
        mc:Ignorable="d">
    <Window.Background>
        <ImageBrush ImageSource="/Assets/1.png" />
    </Window.Background>
    <Window.Resources>
        <Storyboard x:Key="Animation" RepeatBehavior="Forever">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="glow" Storyboard.TargetProperty="HighlightPos">
                <EasingDoubleKeyFrame KeyTime="0:0:0" Value="-0.4" />
                <EasingDoubleKeyFrame KeyTime="0:0:2" Value="1" />
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:4"
                                           Storyboard.TargetName="glow"
                                           Storyboard.TargetProperty="HighlightIntensity">
                <DoubleAnimationUsingKeyFrames.KeyFrames>
                    <EasingDoubleKeyFrame KeyTime="0:0:0" Value="1" />
                    <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="2" />
                    <EasingDoubleKeyFrame KeyTime="0:0:1.5" Value="0" />
                </DoubleAnimationUsingKeyFrames.KeyFrames>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
    </Window.Resources>
    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard Storyboard="{StaticResource Animation}" />
        </EventTrigger>
    </Window.Triggers>
    <Grid x:Name="grid">
        <local:HighlightTextBlock x:Name="glow"
                                  Margin="40,100,40,0"
                                  VerticalAlignment="Top"
                                  FontSize="56"
                                  FontWeight="Bold"
                                  Foreground="#5EFFFFFF"
                                  HighlightColor="#66FFFFFF"
                                  HighlightPos="0.5"
                                  HighlightWidth="0.4"
                                  Text="Highlighter TextBlock"
                                  TextAlignment="Left"
                                  TextTrimming="CharacterEllipsis"
                                  TextWrapping="Wrap"
                                  UseAdditive="true" />
        <local:HighlightTextBlock Margin="40,0,40,96"
                                  VerticalAlignment="Bottom"
                                  FontSize="56"
                                  FontWeight="Bold"
                                  Foreground="#5EFFFFFF"
                                  HighlightColor="#66F3AC12"
                                  HighlightPos="1"
                                  Text="混色文本"
                                  TextAlignment="Left"
                                  TextTrimming="CharacterEllipsis"
                                  TextWrapping="Wrap"
                                  UseAdditive="true" />
        <local:HighlightTextBlock Margin="40,0,40,53"
                                  VerticalAlignment="Bottom"
                                  FontSize="32"
                                  FontWeight="Bold"
                                  Foreground="#5EFFFFFF"
                                  HighlightColor="#89E32121"
                                  HighlightPos="1"
                                  Text="混色文本"
                                  TextAlignment="Left"
                                  TextTrimming="CharacterEllipsis"
                                  TextWrapping="Wrap"
                                  UseAdditive="true" />
    </Grid>
</Window>
